<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>密探升级助手</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💫</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 目标密探标记 (优化语义化结构) -->
    <section class="target-section" aria-labelledby="target-heading">
        <h2 id="target-heading" class="target-title">🚩目标密探标记</h2>
        
        <div class="target-row">
            <span class="target-label">职业：</span>
            <label class="target-option guidao">
                <input type="checkbox" data-type="class" data-value="guidao" aria-label="选择诡道职业">
                <span class="target-text">诡道</span>
            </label>
            <!-- 其他职业选项... -->
        </div>
        
        <div class="target-row">
            <span class="target-label">属性：</span>
            <label class="target-option yin">
                <input type="checkbox" data-type="attribute" data-value="yin" aria-label="选择阴属性">
                <span class="target-text">阴</span>
            </label>
            <!-- 其他属性选项... -->
        </div>
    </section>
    
    <!-- 主容器 (添加主要地标角色) -->
    <main id="resourceTracker" role="main">
        <!-- 状态面板 (使用section和aria标签) -->
        <section class="status-board" aria-labelledby="status-heading">
            <h2 id="status-heading">当前可升级密探</h2>
            <div class="status-columns">
                <!-- 职业状态列 -->
                <div class="status-column profession-column" aria-labelledby="profession-heading">
                    <h3 id="profession-heading">职业</h3>
                    <div class="class-status" id="classStatus" role="list"></div>
                </div>
                <!-- 属性状态列 -->
                <div class="status-column attribute-column" aria-labelledby="attribute-heading">
                    <h3 id="attribute-heading">属性</h3>
                    <div class="attribute-status" id="attributeStatus" role="list"></div>
                </div>
            </div>
        </section>
        
        <!-- 金钱及经验 (使用section和字段集) -->
        <section class="section" aria-labelledby="money-exp-heading">
            <h3 id="money-exp-heading" class="section-title">金钱及经验</h3>
            <div class="resource-grid">
                <div class="resource-item">
                    <label for="money-check" class="resource-name">五铢钱</label>
                    <div class="checkbox-container">
                        <input type="checkbox" id="money-check" aria-label="五铢钱是否足够">
                        <label for="money-check" class="material-checkbox"></label>
                    </div>
                </div>
                <div class="resource-item">
                    <span class="resource-name">经验值</span>
                    <div class="checkbox-container">
                        <div class="sub-status-indicator not-met" id="exp-status" role="status">未满足</div>
                    </div>
                </div>
            </div>
            
            <fieldset class="book-inputs">
                <legend class="visually-hidden">兵书数量</legend>
                <div class="input-group purple">
                    <label for="bingshu_quanjuan">兵书全卷</label>
                    <input type="number" id="bingshu_quanjuan" min="0" max="999" value="0" aria-label="兵书全卷数量">
                </div>
                <div class="input-group blue">
                    <label for="bingshu_canjuan">兵书残卷</label>
                    <input type="number" id="bingshu_canjuan" min="0" max="9999" value="0" aria-label="兵书残卷数量">
                </div>
            </fieldset>
        </section>
        
        <!-- 升级材料 (添加加载状态) -->
        <section class="section" aria-labelledby="materials-heading">
            <h3 id="materials-heading" class="section-title">升级材料</h3>
            <div class="resource-grid" id="materials-list" role="list">
                <div class="loading-message">加载材料中...</div>
            </div>
        </section>
        
        <!-- 历练进度 (优化结构) -->
        <section class="section" aria-labelledby="training-heading">
            <h3 id="training-heading" class="section-title">历练进度</h3>
            <div class="training-container">
                <div id="trainingContent" aria-live="polite">
                    <div class="loading-message">加载历练数据中...</div>
                </div>
            </div>
        </section>
        
        <!-- 页脚控制按钮 -->
        <footer class="footer-controls">
            <button id="resetButton" class="btn-reset" aria-label="重置所有数据">重置所有数据</button>
            <span id="lastUpdated" aria-live="polite"></span>
        </footer>
    </main>

    <script src="script.js"></script>
</body>
</html>
