<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯†æ¢å‡çº§åŠ©æ‰‹</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’«</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="target-section">
        <h2 class="target-title">ğŸš©ç›®æ ‡å¯†æ¢æ ‡è®°</h2>
        <div class="target-row">
          <span class="target-label">èŒä¸šï¼š</span>
          <label class="target-option guidao">
            <input type="checkbox" data-type="class" data-value="guidao">
            <span class="target-text">è¯¡é“</span>
          </label>
          <label class="target-option shenji">
            <input type="checkbox" data-type="class" data-value="shenji">
            <span class="target-text">ç¥çºª</span>
          </label>
          <label class="target-option qihuang">
            <input type="checkbox" data-type="class" data-value="qihuang">
            <span class="target-text">å²é»„</span>
          </label>
          <label class="target-option longdun">
            <input type="checkbox" data-type="class" data-value="longdun">
            <span class="target-text">é¾™ç›¾</span>
          </label>
          <label class="target-option pojun">
            <input type="checkbox" data-type="class" data-value="pojun">
            <span class="target-text">ç ´å†›</span>
          </label>
        </div>
        <div class="target-row">
          <span class="target-label">å±æ€§ï¼š</span>
          <label class="target-option yin">
            <input type="checkbox" data-type="attribute" data-value="yin">
            <span class="target-text">é˜´</span>
          </label>
          <label class="target-option yang">
            <input type="checkbox" data-type="attribute" data-value="yang">
            <span class="target-text">é˜³</span>
          </label>
          <label class="target-option feng">
            <input type="checkbox" data-type="attribute" data-value="feng">
            <span class="target-text">é£</span>
          </label>
          <label class="target-option huo">
            <input type="checkbox" data-type="attribute" data-value="huo">
            <span class="target-text">ç«</span>
          </label>
          <label class="target-option di">
            <input type="checkbox" data-type="attribute" data-value="di">
            <span class="target-text">åœ°</span>
          </label>
          <label class="target-option shui">
            <input type="checkbox" data-type="attribute" data-value="shui">
            <span class="target-text">æ°´</span>
          </label>
        </div>
      </div>
      
      
      
      <div id="resourceTracker">
        <!-- æ ‡é¢˜ -->
        <div class="status-board">
            <h2>å½“å‰å¯å‡çº§å¯†æ¢</h2>
            <div class="status-columns">
              <!-- èŒä¸šå¡ç‰‡ -->
              <div class="status-column profession-column">
                <h3>èŒä¸š</h3>
                <div class="class-status" id="classStatus">
                  <!-- åŠ¨æ€ç”ŸæˆèŒä¸šçŠ¶æ€ -->
                </div>
              </div>
              
              <!-- å±æ€§å¡ç‰‡ -->
              <div class="status-column attribute-column">
                <h3>å±æ€§</h3>
                <div class="attribute-status" id="attributeStatus">
                  <!-- åŠ¨æ€ç”Ÿæˆå±æ€§çŠ¶æ€ -->
                </div>
              </div>
            </div>
          </div>
          
        
        <!-- é‡‘é’±åŠç»éªŒ -->
        <div class="section">
            <div class="section-title">é‡‘é’±åŠç»éªŒ</div>
            <div class="resource-grid">
                <div class="resource-item">
                    <div class="resource-name">äº”é“¢é’± 417ä¸‡</div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="money-check">
                    </div>
                </div>
                <div class="resource-item">
                    <div class="resource-name">ç»éªŒå€¼ 2386300</div>
                    <div class="checkbox-container">
                        <div class="exp-status not-met" id="exp-status">æœªæ»¡è¶³</div>
                    </div>
                </div>
            </div>
            
            <div class="book-inputs">
                <div class="input-group purple">
                    <label for="bingshu_quanjuan">å…µä¹¦å…¨å·</label>
                    <input type="number" id="bingshu_quanjuan" min="0" value="0">
                </div>
                <div class="input-group blue">
                    <label for="bingshu_canjuan">å…µä¹¦æ®‹å·</label>
                    <input type="number" id="bingshu_canjuan" min="0" value="0">
                </div>
            </div>
        </div>
        
        <!-- å‡çº§ææ–™ -->
        <div class="section">
            <div class="section-title">å‡çº§ææ–™</div>
            <div class="resource-grid" id="materials-list">
                <!-- åŠ¨æ€ç”Ÿæˆææ–™åˆ—è¡¨ -->
            </div>
        </div>
        
      <!-- å†ç»ƒææ–™éƒ¨åˆ†ä¿®æ”¹ä¸ºï¼š -->
<div class="section">
    <div class="section-title">å†ç»ƒææ–™</div>
    <div class="training-container">
        <!-- é˜´é˜³å†ç»ƒ -->
        <div class="training-category">
            <div class="training-category-title">
                é˜´é˜³å†ç»ƒ
                <select class="tier-select" data-category="yinYang">
                    <option value="13">ä¿®ä¸º13</option>
                    <option value="15">ä¿®ä¸º15</option>
                    <option value="17" selected>ä¿®ä¸º17</option>
                </select>
                <button class="reset-category-btn" data-category="yinYang">ä¸€é”®æ’¤é”€</button>
            </div>
            <div id="yinYangTraining"></div>
        </div>

        <!-- é£ç«å†ç»ƒ -->
        <div class="training-category">
            <div class="training-category-title">
                é£ç«å†ç»ƒ
                <select class="tier-select" data-category="windFire">
                    <option value="13">ä¿®ä¸º13</option>
                    <option value="15">ä¿®ä¸º15</option>
                    <option value="17" selected>ä¿®ä¸º17</option>
                </select>
                <button class="reset-category-btn" data-category="windFire">ä¸€é”®æ’¤é”€</button>
            </div>
            <div id="windFireTraining"></div>
        </div>

        <!-- åœ°æ°´å†ç»ƒ -->
        <div class="training-category">
            <div class="training-category-title">
                åœ°æ°´å†ç»ƒ
                <select class="tier-select" data-category="earthWater">
                    <option value="13">ä¿®ä¸º13</option>
                    <option value="15">ä¿®ä¸º15</option>
                    <option value="17" selected>ä¿®ä¸º17</option>
                </select>
                <button class="reset-category-btn" data-category="earthWater">ä¸€é”®æ’¤é”€</button>
            </div>
            <div id="earthWaterTraining"></div>
        </div>
    </div>
</div>

<script src="script.js" defer onerror="alert('è„šæœ¬åŠ è½½å¤±è´¥ï¼è¯·æ£€æŸ¥è·¯å¾„æˆ–ç½‘ç»œ')"></script>
<script>
  // å¢å¼ºç‰ˆåˆå§‹åŒ–æ£€æµ‹
  function initApp() {
    // ç¡®ä¿æ ¸å¿ƒå…ƒç´ å­˜åœ¨
    const requiredElements = [
      '#resourceTracker',
      '#money-check',
      '#bingshu_canjuan',
      '#bingshu_quanjuan'
    ];
    
    const missingElements = requiredElements.filter(id => !document.querySelector(id));
    
    if (missingElements.length > 0) {
      console.error("ç¼ºå¤±å…³é”®å…ƒç´ :", missingElements);
      document.body.innerHTML = `
        <div style="padding:20px;color:red;font-family:sans-serif">
          <h2>ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥</h2>
          <p>ç¼ºå¤±å…³é”®HTMLå…ƒç´ ï¼Œè¯·æ£€æŸ¥ï¼š</p>
          <ul>
            ${missingElements.map(el => `<li>${el}</li>`).join('')}
          </ul>
          <button onclick="location.reload()" style="padding:8px 16px;background:#ff6b6b;color:white;border:none">
            åˆ·æ–°é¡µé¢
          </button>
        </div>
      `;
      return;
    }

    if (window.ResourceTracker) {
      console.log("âœ… èµ„æºè¿½è¸ªç³»ç»Ÿå‡†å¤‡å°±ç»ª");
      ResourceTracker.init();
    } else {
      console.error("âŒ ResourceTrackeræœªå®šä¹‰");
      // å°è¯•é‡æ–°åŠ è½½è„šæœ¬
      const script = document.createElement('script');
      script.src = 'script.js';
      script.onload = () => {
        if (window.ResourceTracker) {
          ResourceTracker.init();
        } else {
          location.reload();
        }
      };
      document.head.appendChild(script);
    }
  }

  // åŒé‡è§¦å‘æœºåˆ¶
  if (document.readyState === 'complete') {
    setTimeout(initApp, 100); // å¾®å°å»¶è¿Ÿç¡®ä¿æ‰€æœ‰èµ„æºåŠ è½½
  } else {
    document.addEventListener('DOMContentLoaded', initApp);
  }
</script>
   <!-- æ”¾åœ¨è¿™é‡Œ â†“â†“â†“ -->
<div class="footer-controls">
    <button id="resetButton" class="btn-reset">é‡ç½®æ‰€æœ‰æ•°æ®</button>
    <span id="lastUpdated"></span>
</div>
</body>
</html>       
